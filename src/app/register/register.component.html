<div class="card card-container">
  <form *ngIf="!isSuccessful" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate name="form">

    <label for="nom">Nom *</label>
    <input type="text" id="nom" name="nom" class="form-control" required [(ngModel)]="form.nom" #nom="ngModel" />
    <div class="alert-danger" *ngIf="nom.errors && f.submitted">
      <div *ngIf="nom.errors['required']">Nom requis</div>
    </div>

    <label for="email">Email *</label>
    <input type="email" id="email" name="email" class="form-control" required [(ngModel)]="form.email" #email="ngModel" />
    <div class="alert-danger" *ngIf="email.errors && f.submitted">
      <div *ngIf="email.errors['required']">Email requis</div>
      <div *ngIf="email.errors['email']">Email invalide</div>
    </div>

    <label for="password">Mot de passe *</label>
    <input type="password" id="password" name="password" class="form-control" required [(ngModel)]="form.password" #password="ngModel" minlength="6" />
    <div class="alert-danger" *ngIf="password.errors && f.submitted">
      <div *ngIf="password.errors['required']">Mot de passe requis</div>
      <div *ngIf="password.errors['minlength']">6 caractères minimum</div>
    </div>

    <label for="telephone">Téléphone</label>
    <input type="text" id="telephone" name="telephone" class="form-control" [(ngModel)]="form.telephone" />

    <label for="adresse">Adresse</label>
    <input type="text" id="adresse" name="adresse" class="form-control" [(ngModel)]="form.adresse" />

    <button class="btn btn-primary btn-block" type="submit">Créer un compte</button>

    <div class="alert alert-warning" *ngIf="f.submitted && isSignUpFailed">
      Erreur : {{ errorMessage }}
    </div>
  </form>

  <div class="alert alert-success" *ngIf="isSuccessful">
    Compte créé avec succès !
  </div>
</div>
